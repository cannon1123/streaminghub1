<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>OsiÄ…gniÄ™cia â€¢ StreamingHub</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0b0d10;
  --card:#151922;
  --border:#232a37;
  --text:#e3e7ee;
  --muted:#a8bfe2;
  --brand:#4f7cff;
  --locked:#2a2f3a;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
}
.container{max-width:1100px;margin:auto;padding:16px}
header{position:sticky;top:0;background:rgba(11,13,16,.85);backdrop-filter:blur(6px)}
.nav{display:flex;gap:12px;align-items:center}
.brand{font-weight:800;color:#fff;text-decoration:none}
.menu{margin-left:auto;display:flex;gap:12px}
.menu a{color:var(--muted);text-decoration:none}
.logout{background:#2a3446;padding:8px 12px;border-radius:10px;color:#fff;text-decoration:none;font-weight:600}
h1{margin:20px 0}
.section{margin-top:35px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:14px}
.badge{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  display:flex;
  gap:12px;
}
.badge.locked{background:var(--locked);opacity:.75}
.icon{
  width:48px;height:48px;border-radius:12px;
  background:#1e2433;
  display:flex;align-items:center;justify-content:center;
  font-size:24px;
}
.info{flex:1}
.name{font-weight:700}
.desc{font-size:13px;color:var(--muted)}
.progress{
  height:6px;background:#1c2230;border-radius:6px;
  overflow:hidden;margin-top:8px
}
.progress span{display:block;height:100%;background:var(--brand)}
.secret{font-size:12px;color:#e5a50a}
footer{text-align:center;color:var(--muted);padding:30px 0;font-size:13px}
</style>
</head>

<body>

<header>
  <div class="nav container">
    <a class="brand" href="/filmy/">ğŸ¬ StreamingHub</a>
    <nav class="menu">
      <a href="/filmy/">Filmy</a>
      <a href="/seriale/">Seriale</a>
      <a href="/top/">TOP</a>
      <a href="/moja-biblioteka/">Moja biblioteka</a>
      <a class="logout" href="/login/">Wyloguj</a>
    </nav>
  </div>
</header>

<main class="container">
<h1>ğŸ† OsiÄ…gniÄ™cia</h1>

<!-- SEKCJE JAK STARE -->
<section class="section"><h2>ğŸ¬ Filmy</h2><div class="grid" id="movies"></div></section>
<section class="section"><h2>ğŸ“º Seriale</h2><div class="grid" id="series"></div></section>
<section class="section"><h2>ğŸ Odcinki</h2><div class="grid" id="episodes"></div></section>
<section class="section"><h2>ğŸ”¥ Serie logowaÅ„</h2><div class="grid" id="login"></div></section>
<section class="section"><h2>ğŸ§‘â€ğŸ¤â€ğŸ§‘ SpoÅ‚ecznoÅ›Ä‡</h2><div class="grid" id="comments"></div></section>
<section class="section"><h2>ğŸ‰ Eventy</h2><div class="grid" id="events"></div></section>
<section class="section"><h2>â­ Wishlist</h2><div class="grid" id="wishlist"></div></section>
<section class="section"><h2>ğŸ¥ Pokoje</h2><div class="grid" id="rooms"></div></section>
<section class="section"><h2>â“ Tajne</h2><div class="grid" id="exploration"></div></section>

</main>

<footer>
Â© <script>document.write(new Date().getFullYear())</script> StreamingHub
</footer>

<script>
fetch('/api/achievements') // endpoint z SELECTem
.then(r=>r.json())
.then(data=>{
  data.forEach(a=>{
    const grid=document.getElementById(a.category);
    if(!grid) return;

    const unlocked=a.unlocked;
    const hidden=a.is_hidden && !unlocked;
    const req=parseInt(a.code.split('_').pop())||100;
    const percent=Math.min(100,Math.floor((a.progress||0)/req*100));

    grid.innerHTML+=`
    <div class="badge ${!unlocked?'locked':''}">
      <div class="icon">${hidden?'â“':a.icon}</div>
      <div class="info">
        <div class="name">${hidden?'Tajne osiÄ…gniÄ™cie':a.name}</div>
        ${
          hidden
          ? `<div class="secret">Nieodkryte</div>`
          : `<div class="desc">${a.description}</div>
             ${!unlocked?`<div class="progress"><span style="width:${percent}%"></span></div>`:''}`
        }
      </div>
    </div>`;
  });
});
</script>

</body>
</html>
